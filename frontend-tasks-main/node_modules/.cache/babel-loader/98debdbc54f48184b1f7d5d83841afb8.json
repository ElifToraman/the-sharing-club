{"ast":null,"code":"var _jsxFileName = \"/Users/eliftoraman/Desktop/The-Sharing-Club/frontend-tasks-main/src/groups/components/GroupItem.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from 'react';\nimport Card from \"../../shared/components/UIElements/Card\";\nimport './GroupItem.css';\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\nimport Button from \"../../shared/components/FormElements/Button\";\nimport { UilAirplay } from '@iconscout/react-unicons';\nimport { AuthContext } from \"../../shared/context/auth-context\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst GroupItem = props => {\n  _s();\n\n  const auth = useContext(AuthContext);\n  const {\n    isLoading,\n    error,\n    sendRequest,\n    clearError\n  } = useHttpClient();\n  const history = useHistory();\n\n  const joinToGroupHandler = async event => {\n    event.preventDefault();\n\n    try {\n      await sendRequest(`http://localhost:5000/api/groups/user`, 'POST', JSON.stringify({\n        groupId: props.id,\n        userId: auth.userId\n      }), {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + auth.token\n      });\n      history.push('/my-groups');\n    } catch (err) {}\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ErrorModal, {\n      error: error,\n      onClear: clearError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"group-item\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: \"group-item__content\",\n        children: [isLoading && /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n          asOverlay: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 35\n        }, this), props.users.find(userId => auth.userId === userId) ? /*#__PURE__*/_jsxDEV(Link, {\n          to: `/groups/${props.id}/details`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"group-item__info\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: props.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this), !props.users.find(userId => auth.userId === userId) ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"group-item__actions\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              onClick: joinToGroupHandler,\n              children: [/*#__PURE__*/_jsxDEV(UilAirplay, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 60\n              }, this), \"JOIN\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 28\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 25\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"group-item__info\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: props.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this), !props.users.find(userId => auth.userId === userId) ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"group-item__actions\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            onClick: joinToGroupHandler,\n            children: [/*#__PURE__*/_jsxDEV(UilAirplay, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 61\n            }, this), \"JOIN\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n\n_s(GroupItem, \"Q/FMKMCYsV9KYsBTouHz132BaqM=\", false, function () {\n  return [useHttpClient, useHistory];\n});\n\n_c = GroupItem;\nexport default GroupItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"GroupItem\");","map":{"version":3,"names":["React","useContext","Card","LoadingSpinner","useHttpClient","Button","UilAirplay","AuthContext","Link","useHistory","ErrorModal","GroupItem","props","auth","isLoading","error","sendRequest","clearError","history","joinToGroupHandler","event","preventDefault","JSON","stringify","groupId","id","userId","Authorization","token","push","err","users","find","name"],"sources":["/Users/eliftoraman/Desktop/The-Sharing-Club/frontend-tasks-main/src/groups/components/GroupItem.js"],"sourcesContent":["import React, {useContext} from 'react';\nimport Card from \"../../shared/components/UIElements/Card\";\n\nimport './GroupItem.css';\n\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\nimport Button from \"../../shared/components/FormElements/Button\";\nimport { UilAirplay } from '@iconscout/react-unicons'\nimport {AuthContext} from \"../../shared/context/auth-context\";\nimport {Link, useHistory} from \"react-router-dom\";\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\n\nconst GroupItem = props => {\n    const auth = useContext(AuthContext);\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\n    const history = useHistory();\n\n    const joinToGroupHandler  = async event => {\n        event.preventDefault();\n        try {\n            await sendRequest(\n                `http://localhost:5000/api/groups/user`,\n                'POST',\n                JSON.stringify({\n                    groupId: props.id,\n                    userId: auth.userId\n                }),\n                {\n                    'Content-Type': 'application/json',\n                    Authorization: 'Bearer ' + auth.token\n                }\n            );\n            history.push('/my-groups');\n\n        } catch (err) {}\n    };\n    return (\n        <React.Fragment>\n            <ErrorModal error={error} onClear={clearError}/>\n            <div className=\"group-item\">\n                <Card className=\"group-item__content\">\n                    {isLoading && <LoadingSpinner asOverlay />}\n                    {props.users.find((userId) => auth.userId === userId) ?\n                    <Link to={`/groups/${props.id}/details`}>\n                        <div className=\"group-item__info\">\n                            <h2>{props.name}</h2>\n                        </div>\n                       {!props.users.find((userId) => auth.userId === userId) ?\n                        <div className=\"group-item__actions\">\n                           <a onClick={joinToGroupHandler}><UilAirplay />JOIN</a>\n                        </div> : null\n                       }\n                    </Link> :\n                        <div className=\"group-item__info\">\n                            <h2>{props.name}</h2>\n                        </div>}\n                        {!props.users.find((userId) => auth.userId === userId) ?\n                        <div className=\"group-item__actions\">\n                            <a onClick={joinToGroupHandler}><UilAirplay />JOIN</a>\n                        </div> : null\n                        }\n                </Card>\n            </div>\n        </React.Fragment>\n    );\n};\n\nexport default GroupItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}